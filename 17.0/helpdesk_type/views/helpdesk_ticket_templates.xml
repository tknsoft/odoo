<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <template id="portal_ticket_list" inherit_id="helpdesk_mgmt.portal_ticket_list">
        <xpath expr="//th[@t-if=&quot;groupby != 'stage'&quot;]" position="after">
            <th
                t-if="request.env.company.helpdesk_mgmt_portal_type"
                name="th_ticket_type_column"
            >Type</th>
        </xpath>
        <xpath expr="//td[@t-if=&quot;groupby != 'stage'&quot;]" position="after">
            <td
                t-if="request.env.company.helpdesk_mgmt_portal_type"
                name="td_ticket_type_value"
            >
                <span t-esc="ticket.type_id.name" />
            </td>
        </xpath>
    </template>
    <template id="portal_create_ticket" inherit_id="helpdesk_mgmt.portal_create_ticket">
        <xpath
            expr="//label[@for='category']/ancestor::div[hasclass('form-group')]"
            position="after"
        >
            <div class="form-group" t-if="types" name="form_group_ticket_type">
                <label class="col-md-3 col-sm-4 control-label" for="type">Type</label>
                <div class="col-md-7 col-sm-8">
                    <select
                        class="form-control"
                        id="type"
                        name="type"
                        t-att-required="ticket_type_id_required"
                    >
                        <option value="" />
                        <t t-foreach="types" t-as="type">
                            <option t-attf-value="#{type.id}">
                                <t t-esc="type.name" />
                            </option>
                        </t>
                    </select>
                </div>
            </div>
        </xpath>
    </template>
    <template
        id="portal_helpdesk_ticket_page"
        inherit_id="helpdesk_mgmt.portal_helpdesk_ticket_page"
    >
        <xpath expr="//span[@t-field='ticket.create_date']/.." position="after">
            <div t-if="ticket.type_id" name="ticket_type_id">
                <strong>Type:</strong>
                <span t-esc="ticket.type_id.name" />
            </div>
        </xpath>
    </template>
</odoo>
