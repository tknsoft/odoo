<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <!-- It adds 'Approve' and 'Cancel' buttons next to the 'Send by Email' button in the sale
    order form. These buttons are intended for use by sales managers to approve or cancel sale orders. -->
    <record id="view_order_form" model="ir.ui.view">
        <field name="name">
            sale.order.form.view.inherit.sales.order.double.approval
        </field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_order_form"/>
        <field name="arch" type="xml">
            <xpath expr="//button[@name='action_quotation_send']"
                   position="after">
                <button name="button_approve" string="Approve"
                        class="oe_highlight" type="object"
                        invisible="state not in 'to_approve'"
                        groups="sales_team.group_sale_manager"/>
                <button name="action_cancel" string="Cancel"
                        class="oe_highlight" type="object"
                        invisible="state not in 'to_approve'"
                        groups="sales_team.group_sale_manager"/>
            </xpath>
        </field>
    </record>
</odoo>
